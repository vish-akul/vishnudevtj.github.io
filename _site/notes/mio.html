<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />


	<title>Downloading some Songs !! · The Plain Text</title>


<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@vishnudevtj" />
<meta name="twitter:title" content="Downloading some Songs !!" />
<meta name="twitter:description" content="  Music India Online Download script          Download Movie Songs      Some Code snippet                  New Release From Hindi Malayalam and Tamil catagory          List of All Movies in That ca...">

<meta name="description" content="  Music India Online Download script          Download Movie Songs      Some Code snippet                  New Release From Hindi Malayalam and Tamil catagor...">



<link rel="icon" href="/assets/favicon.png">
<link rel="apple-touch-icon" href="/assets/touch-icon.png">
<link rel="stylesheet" href="/assets/core.css">
<link rel="canonical" href="/notes/mio">
<link rel="alternate" type="application/atom+xml" title="The Plain Text" href="/feed.xml" />





	</head>

	<body>

		<aside class="logo">

	

	<a href="/">
		  <img src="/assets/vinix.svg" class="gravatar" height="92" width="92">
	</a>
	<span class="logo-prompt">Back to Home</span>

</aside>


		<main>
			<article>

	<div class="center">
		<h1>Downloading some Songs !!</h1>
		<time>April 10, 2017</time>
	</div>

	<div class="divider"></div>

	<ul>
  <li><a href="#org16b46f7">Music India Online Download script</a>
    <ul>
      <li><a href="#orgf8c7f95">Download Movie Songs</a></li>
      <li><a href="#org659ef73">Some Code snippet</a>
        <ul>
          <li><a href="#org0bb7cee">New Release From Hindi Malayalam and Tamil catagory</a></li>
          <li><a href="#org6ff3104">List of All Movies in That catagory</a></li>
          <li><a href="#orgb9bea1e">Downloading all songs of catagory</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><a id="org16b46f7"></a></p>

<h1 id="music-india-online-download-script">Music India Online Download script</h1>

<p>Who likes to downlaod music one by one we are too lazy , we script . This is a script i wrote to download music from <a href="http://mio.to/">MusicIndiaOnline</a> . This site contain a large repositories of Indian Music and the service is free . It plays the music in a custom player . Opening the firefox web developer option and inspecting we could see the mp3 request links . intestingly there is pattern in the link</p>

<blockquote>
  <p>“http://media-audio.mio.to/various_artists/A/Aashiqui 2 (2013)/1_1 - Tum Hi Ho-vbr-V5.mp3”</p>
</blockquote>

<blockquote>
  <p>” http://media-audio.mio.to/by_artist/A/AR. Rahman/I (2014)/1_1 - Mersalaayitten-vbr-V5.mp3 “</p>
</blockquote>

<p>by looking into the source html we could extract all the informations to create the link</p>

<blockquote>
  <p>“http://media-audio.mio.to/&lt; by_artist or various_artists &gt;/&lt; first letter of album_id &gt;/&lt; album_id &gt;/&lt; disk_number &gt;_&lt; track_number &gt; - &lt; track_name &gt;-vbr-V5.mp3 “</p>
</blockquote>

<p>so we scrap the webpage using <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup</a> and extract all the details . the source contains the artwork link from which we can get wether it is by_artist or various_artists by search with Regular expression</p>

<p>final we create the link and download the file to its respective folder . the mp3 file downloaded does not contain any tag so we add them using a <a href="http://eyed3.nicfit.net/">eyed3</a> which is a tag editor</p>

<p><a id="orgf8c7f95"></a></p>

<h2 id="download-movie-songs">Download Movie Songs</h2>

<p>Dowload Movie songs into the directory</p>

<p><em>mio.py</em></p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Made by :  Nemesis</span>
<span class="c"># Discription :This downloads The songs from site named mio.to</span>
<span class="c"># syantax : python3 mio.py &lt;link&gt;</span>
<span class="c"># Requirements : python modules bs4,taglib</span>
<span class="c"># System Package : eyed3 [User for insterting artwork]</span>

<span class="kn">import</span> <span class="nn">bs4</span><span class="o">,</span><span class="nn">requests</span><span class="o">,</span><span class="nn">sys</span><span class="o">,</span><span class="nn">re</span><span class="o">,</span><span class="nn">taglib</span><span class="o">,</span><span class="nn">subprocess</span><span class="o">,</span><span class="nn">os</span>

<span class="c">#Downloads the webpage and create a Beautifull Soup Object</span>
<span class="n">url</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c"># url = "http://mio.to/album/Aashiqui+2+%282013%29"</span>
<span class="n">mio</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">mio_soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">mio</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="s">'html.parser'</span><span class="p">)</span>

<span class="c">#Extracts some informations :</span>

<span class="n">movie_name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r".*?</span><span class="err">\</span><span class="s">([0-9]+</span><span class="err">\</span><span class="s">)"</span><span class="p">,</span><span class="n">mio_soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'div.heading'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">art_work</span> <span class="o">=</span> <span class="n">mio_soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'div.group.info &gt; img["src"]'</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="s">"src"</span><span class="p">]</span>
<span class="n">year</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r'</span><span class="err">\</span><span class="s">(([0-9][0-9]+)</span><span class="err">\</span><span class="s">)'</span><span class="p">,</span><span class="n">movie_name</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">link</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r'http://media-images.mio.to/(.*?)/(.*)/Art-350.jpg'</span><span class="p">,</span><span class="n">art_work</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">artwork_path</span> <span class="o">=</span> <span class="n">movie_name</span><span class="o">+</span><span class="s">"/artwork.jpg"</span>

<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Movie Name : "</span><span class="o">+</span><span class="n">movie_name</span> <span class="p">)</span>
<span class="c"># print("Music Director : "+music_director)</span>

<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">"mkdir"</span> <span class="p">,</span><span class="s">"-p"</span><span class="p">,</span><span class="n">movie_name</span><span class="p">])</span>

<span class="n">log</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"log"</span><span class="p">,</span><span class="s">"w"</span><span class="p">)</span>
<span class="c">#Downloading the artwork</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">artwork_path</span><span class="p">):</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">"wget"</span><span class="p">,</span><span class="s">"-c"</span><span class="p">,</span><span class="s">"-q"</span><span class="p">,</span><span class="n">art_work</span><span class="p">,</span><span class="s">"-O"</span><span class="p">,</span><span class="n">artwork_path</span><span class="p">])</span>

<span class="c">#Finds all the songs links and downloads the and inserts the tags</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mio_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"tr"</span> <span class="p">,{</span><span class="s">"class"</span> <span class="p">:</span> <span class="s">"song-link"</span><span class="p">}):</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="s">","</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'"(.*?)"'</span><span class="p">,</span><span class="n">i</span><span class="p">[</span><span class="s">'track_artist'</span><span class="p">]))</span>
    <span class="n">album_name</span> <span class="o">=</span> <span class="n">movie_name</span>
    <span class="n">track_number</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s">"track_number"</span><span class="p">]</span>
    <span class="n">disk_number</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s">"disc_number"</span><span class="p">]</span>
    <span class="n">track_name</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s">"track_name"</span><span class="p">]</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">album_name</span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="n">track_name</span><span class="o">+</span><span class="s">".mp3"</span>
    <span class="c">#Create the download links of the mp3</span>
    <span class="n">mp3_link</span> <span class="o">=</span> <span class="s">"http://media-audio.mio.to/"</span><span class="o">+</span><span class="n">link</span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="n">i</span><span class="p">[</span><span class="s">"album_id"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="n">i</span><span class="p">[</span><span class="s">"album_id"</span><span class="p">]</span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="n">disk_number</span><span class="o">+</span><span class="s">"_"</span><span class="o">+</span><span class="n">track_number</span><span class="o">+</span><span class="s">" - "</span><span class="o">+</span><span class="n">track_name</span><span class="o">+</span><span class="s">"-vbr-V5.mp3"</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Downloading "</span><span class="p">,</span><span class="n">track_name</span><span class="p">,</span><span class="s">"  ..."</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">"wget"</span><span class="p">,</span><span class="s">"-q"</span><span class="p">,</span><span class="s">"-c"</span><span class="p">,</span><span class="n">mp3_link</span><span class="p">,</span><span class="s">"-O"</span><span class="p">,</span><span class="n">path</span><span class="p">])</span>
        <span class="c"># Inserting the tag details</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="s">"eyeD3"</span><span class="p">,</span><span class="s">"--add-image"</span><span class="p">,</span><span class="n">artwork_path</span><span class="o">+</span><span class="s">":FRONT_COVER"</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="s">"-a"</span><span class="p">,</span><span class="n">artist</span><span class="p">,</span><span class="s">"-A"</span><span class="p">,</span><span class="n">album_name</span><span class="p">,</span><span class="s">"-t"</span><span class="p">,</span><span class="n">track_name</span><span class="p">,</span><span class="s">"-n"</span><span class="p">,</span><span class="n">track_number</span><span class="p">,</span><span class="s">"-Y"</span><span class="p">,</span><span class="n">year</span><span class="p">]</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">command</span><span class="p">,</span><span class="n">stdout</span><span class="o">=</span><span class="n">log</span><span class="p">)</span>
</code></pre>
</div>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>python3  mio.py  &lt; link &gt;
</code></pre>
</div>

<p><a id="org659ef73"></a></p>

<h2 id="some-code-snippet">Some Code snippet</h2>

<p><a id="org0bb7cee"></a></p>

<h3 id="new-release-from-hindi-malayalam-and-tamil-catagory">New Release From Hindi Malayalam and Tamil catagory</h3>

<p><em>new.py</em></p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">bs4</span><span class="o">,</span><span class="nn">requests</span>


<span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="s">"http://mio.to/Malayalam/Movie+Songs"</span><span class="p">,</span> <span class="s">"http://mio.to/Hindi/Movie+Songs"</span><span class="p">,</span><span class="s">"http://mio.to/Tamil/Movie+Songs"</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">"| Movie Name | Links |"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"|--------------------|"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
    <span class="n">mio</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">mio_soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">mio</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="s">"html.parser"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mio_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="p">{</span><span class="s">'id'</span> <span class="p">:</span> <span class="s">'#trending-now'</span><span class="p">}):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"a"</span><span class="p">):</span>
             <span class="k">print</span><span class="p">(</span><span class="s">"| "</span><span class="o">+</span><span class="n">j</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"h2"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">+</span><span class="s">"| http://mio.to"</span> <span class="o">+</span> <span class="n">j</span><span class="p">[</span><span class="s">"href"</span><span class="p">]</span><span class="o">+</span><span class="s">"|"</span><span class="p">)</span>
</code></pre>
</div>

<p><a id="org6ff3104"></a></p>

<h3 id="list-of-all-movies-in-that-catagory">List of All Movies in That catagory</h3>

<p><em>list.py</em></p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span><span class="nn">bs4</span><span class="o">,</span><span class="nn">sys</span>
<span class="n">url</span> <span class="o">=</span>  <span class="s">"http://www.mio.to/Hindi/Movie+Songs/albums/decade/2010"</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
      <span class="n">mio</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
      <span class="n">mio_soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">mio</span><span class="o">.</span><span class="n">text</span><span class="p">,</span><span class="s">'html.parser'</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">mio_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"a"</span> <span class="p">,</span> <span class="p">{</span><span class="s">"class"</span> <span class="p">:</span> <span class="s">"img-cover-175"</span><span class="p">}):</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"| http://mio.to"</span><span class="o">+</span><span class="n">i</span><span class="p">[</span><span class="s">"href"</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="s">"http://mio.to"</span> <span class="o">+</span> <span class="n">mio_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"a"</span> <span class="p">,</span> <span class="p">{</span><span class="s">"class"</span> <span class="p">:</span> <span class="s">"next-page"</span><span class="p">})[</span><span class="mi">0</span><span class="p">][</span><span class="s">"href"</span><span class="p">]</span>
            <span class="k">except</span> <span class="nb">IndexError</span><span class="p">:</span>
                <span class="nb">exit</span><span class="p">()</span>
</code></pre>
</div>

<p><a id="orgb9bea1e"></a></p>

<h3 id="downloading-all-songs-of-catagory">Downloading all songs of catagory</h3>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>python3 list.py &lt; link &gt; | xargs -n1 python3 mio.py
</code></pre>
</div>

<p>Downloading full Hindi Songs</p>

<p>shell script</p>
<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="k">for </span>i <span class="k">in</span> <span class="o">{</span>19<span class="o">{</span>3..9<span class="o">}</span>0,20<span class="o">{</span>0,1<span class="o">}</span>0<span class="o">}</span>;<span class="k">do
    </span>python3 list.py <span class="s2">"http://mio.to/Hindi/Movie+Songs/albums/decade/</span><span class="nv">$i</span><span class="s2">"</span> | xargs -n1 python3 mio.py;
<span class="k">done</span>
</code></pre>
</div>


</article>

<div class="page-navigation">
	
		<a class="home" href="/" title="Back to Homepage">Home</a>
  
		<span> &middot; </span>
    <a class="prev" href="/notes/very-long-title-post" title="PREV: For Example of very Long Title Would Be Typography Elements in One">&gt;&gt;</a>
  
</div>

		</main>

		<div class="footer">
  <span class="block">&lt;/&gt; <a href="http://github.com/heiswayi/the-plain" title="a minimalist Jekyll theme for personal blog">The Plain theme</a> </span>
  <span class="block">&copy; 2017 Vishnu Dev T J</span>
</div>


	</body>

</html>
